<<<<<<< HEAD:server.js
import express from 'express';
import connectDatabase from './config/db';
import { check, validationResult } from 'express-validator';

=======
let express,connectDatabase,check,validationResult,cors;_f83‍.w("express",[["default",["express"],function(v){express=v}]]);_f83‍.w("./config/db",[["default",["connectDatabase"],function(v){connectDatabase=v}]]);_f83‍.w("express-validator",[["check",["check"],function(v){check=v}],["validationResult",["validationResult"],function(v){validationResult=v}]]);_f83‍.w("cors",[["default",["cors"],function(v){cors=v}]]);



//Initialize express application
>>>>>>> 9482eca7bdb7a2e721c34cbb44f5c713744b266b:node_modules/.cache/esm/e347329cf8388fa2.js
const app = express();

connectDatabase();

app.use(express.json({extended: false}));
/*
@route 
@desc
*/

app.get('/', (req, res) =>
res.send('http get request sent to root api endpoint')
);

/*
@route 
@desc
*/

app.post(
    '/api/users', 
    [
        check('name', 'Please enter your name').not().isEmpty(),
        check('email', 'Please enter a valid email').isEmail(),
        check('password', 'Please enter a password with 6 or more characters').isLength({ min: 6})
    ],
    (req, res) => {
    const errors = validationResult(req);
    if (!errors.isEmpty()) {
        return res.status(422).json({ errors: errors.array() });
    }
    else {
        res.send(req.body); 
    }
});
const port = 5000;
app.listen(port, () => console.log(`Express server running on port ${port}`));